if (self.CavalryLogger) { CavalryLogger.start_js(["5LhtM"]); }

__d("XComposerActorChangeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/actor/change/",{composer_id:{type:"String",required:!0},entry_point:{type:"Enum",required:!0,enumType:1},from_actor_id:{type:"Int",required:!0},target_id:{type:"Int",required:!0}})}),null);
__d("ComposerXActorSelector.react",["fbt","ActorSelector.react","ActorSelectorNuxTypes","ActorURI","Arbiter","AsyncRequest","React","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStore","XActorSelectorNuxSeenWriteController","XComposerActorChangeController","emptyFunction"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ComposerXActorSelector",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerStore"))],propTypes:{actorIDs:a.array,className:a.string,composerID:a.string.isRequired,entryPoint:a.string,loading:a.bool,nuxEnabled:a.bool,nuxHoverContext:a.object,onChange:a.func,onClick:a.func,pageTimelineNuxTipID:a.string,selectedActorID:a.string,settingsURI:a.string,syncEnabled:a.bool,targetID:a.string,useProfileActorSelector:a.bool},statics:{calculateState:function(a){return{disabled:b("ReactComposerStore").isPosting(a)}}},getInitialState:function(){return{arbiterToken:null,loading:!1}},UNSAFE_componentWillMount:function(){__p&&__p();var a=b("Arbiter").subscribe("ComposerXPages/composePostWithActor",function(a,b){if(b.actorID){if(this.props.onChange){this.props.onChange(b.actorID);return}this._updateCurrentActor(b.actorID,function(){b.callback&&b.callback()})}}.bind(this));this.setState({arbiterToken:a})},componentWillUnmount:function(){this.state.arbiterToken&&b("Arbiter").unsubscribe(this.state.arbiterToken)},render:function(){return b("React").createElement(b("ActorSelector.react"),{actorIDs:this.props.actorIDs,className:this.props.className,disabled:this.state.disabled,loading:this.props.loading||this.state.loading,nuxBody:this._getNUXBody(),nuxEnabled:this.props.nuxEnabled,nuxHoverContext:this.props.nuxHoverContext,onChange:this._onChange,onClick:this.props.onClick,onCompleteNux:this._onCompleteNux,pageTimelineNuxTipID:this.props.pageTimelineNuxTipID,ref:"selector",selectedActorID:this.props.selectedActorID,settingsURI:this.props.settingsURI,tooltipConstructor:this._getTooltipForActorName,syncEnabled:this.props.syncEnabled,useProfileActorSelector:this.props.useProfileActorSelector})},_getNUXBody:function(){return g._("Sl\u00e5 op som din side eller som dig selv.")},_getTooltipForActorName:function(a){return g._("Sl\u00e5r op som {actorName}",[g._param("actorName",a)])},_onChange:function(a){this.props.onChange?this.props.onChange(a.value):this._updateCurrentActor(a.value)},_updateCurrentActor:function(a,c){__p&&__p();c=c||b("emptyFunction");if(this.props.selectedActorID===a){c();return}this.setState({loading:!0});a=b("ActorURI").create(b("XComposerActorChangeController").getURIBuilder().setString("composer_id",this.props.composerID).setEnum("entry_point",this.props.entryPoint).setInt("from_actor_id",this.props.selectedActorID).setInt("target_id",this.props.targetID).getURI(),a);var d=function(){this.setState({loading:!1})}.bind(this);new(b("AsyncRequest"))().setURI(a).setErrorHandler(d).setServerDialogCancelHandler(d).setFinallyHandler(c).send()},_onCompleteNux:function(){var a=b("XActorSelectorNuxSeenWriteController").getURIBuilder().setEnum("nux_type",b("ActorSelectorNuxTypes").COMPOSER).getURI();new(b("AsyncRequest"))().setURI(a).send()}});e.exports=c}),null);
__d("XReactComposerActorChangeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/actor/change/",{composer_id:{type:"String"},composer_type:{type:"Enum",enumType:1},target_id:{type:"String"}})}),null);
__d("PagesSproutComposerActorSelector.react",["cx","ActorURI","AsyncRequest","ComposerXActorSelector.react","PagesComposerActionTypes","React","ReactComposerContextTypes","ReactComposerDispatcher","ReactComposerLoggingStore","XReactComposerActorChangeController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=function(a){var c=d.context,e=c.composerID,f=c.composerType;c=c.targetID;d.setState({showSpinner:!0});f=b("ActorURI").create(b("XReactComposerActorChangeController").getURIBuilder().setString("composer_id",e).setEnum("composer_type",f).setString("target_id",c).getURI(),a);new(b("AsyncRequest"))().setURI(f).send();b("ReactComposerLoggingStore").isActivated(e)||b("ReactComposerLoggingStore").activate(e);b("ReactComposerDispatcher").dispatch({composerID:e,type:b("PagesComposerActionTypes").PAGES_COMPOSER_VOICE_SWITCHER_ACTOR_CHANGE})};d.$3=function(){var a=d.context.composerID;b("ReactComposerLoggingStore").isActivated(a)||b("ReactComposerLoggingStore").activate(a);b("ReactComposerDispatcher").dispatch({composerID:a,type:b("PagesComposerActionTypes").PAGES_COMPOSER_VOICE_SWITCHER_CLICK})};d.state=d.$1();return d}var d=c.prototype;d.$1=function(){return{showSpinner:!1}};d.render=function(){var a=babelHelpers["extends"]({},this.props.actorConfig,{composerID:this.context.composerID,useProfileActorSelector:this.context.gks.showProfileVoiceSwitcher}),c=null;a.useProfileActorSelector||(c="_6ogw");return b("React").createElement(b("ComposerXActorSelector.react"),babelHelpers["extends"]({},a,{className:c,loading:this.state.showSpinner,onChange:this.$2,onClick:this.$3}))};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerActorSelectorContainer.react",["cx","ActorURI","AsyncRequest","ComposerXActorSelector.react","React","ReactComposerContextTypes","XReactComposerActorChangeController"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showSpinner:!1},d.$1=function(a){d.setState({showSpinner:!0});a=b("ActorURI").create(b("XReactComposerActorChangeController").getURIBuilder().setString("composer_id",d.context.composerID).setEnum("composer_type",d.context.composerType).setString("target_id",d.context.targetID).getURI(),a);new(b("AsyncRequest"))().setURI(a).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=babelHelpers["extends"]({},this.props,{composerID:this.context.composerID});return b("React").createElement(b("ComposerXActorSelector.react"),babelHelpers["extends"]({},a,{className:"_4w4v",loading:this.state.showSpinner,onChange:this.$1}))};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerProfilePhotoVoiceSwitcherBlock.react",["cx","Layout.react","PagesSproutComposerActorSelector.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("Layout.react"),null,b("React").createElement(h,{className:"_q-v"},b("React").createElement("span",null,b("React").createElement(b("PagesSproutComposerActorSelector.react"),this.props.config))),b("React").createElement(i,null,this.props.children))};return c}(b("React").PureComponent);e.exports=a}),null);